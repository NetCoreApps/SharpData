<Project Sdk="Microsoft.NET.Sdk.Web">

    <PropertyGroup>
        <TargetFramework>netcoreapp3.1</TargetFramework>
    </PropertyGroup>

    <ItemGroup>
        <PackageReference Include="ServiceStack" Version="5.*" />
        <PackageReference Include="ServiceStack.Server" Version="5.*" />
        <PackageReference Include="ServiceStack.OrmLite.Sqlite" Version="5.*" />
        <PackageReference Include="ServiceStack.OrmLite.PostgreSQL" Version="5.*" />
        <PackageReference Include="ServiceStack.OrmLite.SqlServer" Version="5.*" />
        <PackageReference Include="ServiceStack.Desktop" Version="5.*" />
    </ItemGroup>

    <Target Name="Bundle" BeforeTargets="AfterPublish">
        <Exec Command="x run _bundle.ss -to /bin/Release/netcoreapp3.1/publish/wwwroot" />
    </Target>    

    <ItemGroup>
      <None Remove="northwind.sqlite" />
      <Content Include="northwind.sqlite">
        <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      </Content>
      <Content Update="wwwroot\lib\**\*.*" CopyToPublishDirectory="Never" />
    </ItemGroup>
</Project>
